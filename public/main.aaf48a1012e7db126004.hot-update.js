/*! For license information please see main.aaf48a1012e7db126004.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatechromic("main",{"./app/components/Canvas/Home/index.js":(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});var i=s("./node_modules/lodash/map.js"),r=s.n(i),h=s("./node_modules/ogl/src/core/Transform.js"),l=s("./node_modules/ogl/src/extras/Plane.js"),o=s("./node_modules/gsap/index.js"),n=(s("./node_modules/normalize-wheel/index.js"),s("./app/components/Canvas/Home/Media.js"));class a{constructor({gl:t,scene:e,sizes:s}){this.gl=t,this.scene=e,this.group=new h.Transform,this.sizes=s,this.galleryElement=document.querySelector(".home__gallery"),this.mediaElements=document.querySelectorAll(".home__gallery__media__image"),this.x={current:0,target:0,lerp:.1,direction:null},this.y={current:0,target:0,lerp:.1,direction:null},this.scrollCurrent={x:0,y:0},this.scroll={x:0,y:0},this.speed={current:0,target:0,lerp:.1},this.createGeometry(),this.createGallery(),this.onResize({sizes:this.sizes}),this.group.setParent(this.scene),this.show()}createGeometry(){this.geometry=new l.Plane(this.gl,{heightSegments:20,widthSegments:20})}createGallery(){this.medias=r()(this.mediaElements,((t,e)=>new n.default({element:t,index:e,geometry:this.geometry,gl:this.gl,scene:this.group,sizes:this.sizes})))}show(){r()(this.medias,(t=>{t.show()}))}hide(){r()(this.medias,(t=>{t.hide()}))}onResize(t){this.galleryBounds=this.galleryElement.getBoundingClientRect(),this.sizes=t.sizes,this.gallerySizes={width:this.galleryBounds.width/window.innerWidth*this.sizes.width,height:this.galleryBounds.height/window.innerHeight*this.sizes.height},r()(this.medias,(e=>{e.onResize(t,this.scroll)}))}onTouchDown({x:t,y:e}){this.scrollCurrent.x=this.scroll.x,this.scrollCurrent.y=this.scroll.y}onTouchMove({x:t,y:e}){const s=t.start-t.end,i=e.start-e.end;this.x.target=this.scrollCurrent.x-s,this.y.target=this.scrollCurrent.y-i}onTouchUp({x:t,y:e}){}onWheel({pixelY:t,pixelX:e}){this.x.target+=e,this.y.target+=t}update(){const t=this.x.target-this.x.current,e=this.y.target-this.y.current;this.speed.target=.001*Math.sqrt(t*t+e*e),this.speed.current=o.default.utils.interpolate(this.speed.current,this.speed.target,this.speed.lerp),this.x.current=o.default.utils.interpolate(this.x.current,this.x.target,this.x.lerp),this.y.current=o.default.utils.interpolate(this.y.current,this.y.target,this.y.lerp),this.scroll.x<this.x.current?this.x.direction="right":this.scroll.x>this.x.current&&(this.x.direction="left"),this.scroll.y<this.y.current?this.y.direction="top":this.scroll.y>this.y.current&&(this.y.direction="bottom"),this.scroll.x=this.x.current,this.scroll.y=this.y.current,r()(this.medias,((t,e)=>{const s=t.mesh.scale.x/2,i=.6*this.sizes.width;if("left"===this.x.direction){t.mesh.position.x+s<-i&&(t.extra.x+=this.gallerySizes.width,t.mesh.rotation.z=o.default.utils.random(.03*-Math.PI,.03*Math.PI))}else if("right"===this.x.direction){t.mesh.position.x-s>i&&(t.extra.x-=this.gallerySizes.width,t.mesh.rotation.z=o.default.utils.random(.03*-Math.PI,.03*Math.PI))}const r=t.mesh.scale.y/2,h=.6*this.sizes.height;if("top"===this.y.direction){t.mesh.position.y+r<-h&&(t.extra.y+=this.gallerySizes.height,t.mesh.rotation.z=o.default.utils.random(.03*-Math.PI,.03*Math.PI))}else if("bottom"===this.y.direction){t.mesh.position.y-r>h&&(t.extra.y-=this.gallerySizes.height,t.mesh.rotation.z=o.default.utils.random(.03*-Math.PI,.03*Math.PI))}t.update(this.scroll,this.speed.current)}))}destroy(){this.scene.removeChild(this.group)}}}},(function(t){t.h=()=>"cd2bef7d87de06b5eda4"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVZkLEtBQUtlLEdBQ0ksSUFBVmYsS0FBS2UsSUFHWCxDQUVBdkMsRUFBTXFCLE9BQU9wRCxLQUFLZSxPQUFRZixLQUFLZ0IsTUFBTVAsUUFBUSxHQUVqRCxDQUVBZ0UsT0FBQUEsR0FDRXpFLEtBQUtGLE1BQU00RSxZQUFZMUUsS0FBS0MsTUFDOUIsa0JDdFBGMEUsRUFBb0JDLEVBQUksSUFBTSIsInNvdXJjZXMiOlsid2VicGFjazovL2Nocm9taWMvLi9hcHAvY29tcG9uZW50cy9DYW52YXMvSG9tZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jaHJvbWljL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWFwIGZyb20gXCJsb2Rhc2gvbWFwXCI7XG5pbXBvcnQgeyBQbGFuZSwgVHJhbnNmb3JtIH0gZnJvbSBcIm9nbFwiO1xuaW1wb3J0IGdzYXAgZnJvbSBcImdzYXBcIjtcbmltcG9ydCBub3JtYWxpemVXaGVlbCBmcm9tIFwibm9ybWFsaXplLXdoZWVsXCI7XG5cbmltcG9ydCBNZWRpYSBmcm9tIFwiLi9NZWRpYVwiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZSB7XG4gIGNvbnN0cnVjdG9yKHsgZ2wsIHNjZW5lLCBzaXplcyB9KSB7XG4gICAgdGhpcy5nbCA9IGdsO1xuICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcbiAgICB0aGlzLmdyb3VwID0gbmV3IFRyYW5zZm9ybSgpO1xuICAgIHRoaXMuc2l6ZXMgPSBzaXplcztcblxuICAgIHRoaXMuZ2FsbGVyeUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhvbWVfX2dhbGxlcnlcIik7XG4gICAgdGhpcy5tZWRpYUVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgIFwiLmhvbWVfX2dhbGxlcnlfX21lZGlhX19pbWFnZVwiLFxuICAgICk7XG4gICAgdGhpcy54ID0ge1xuICAgICAgY3VycmVudDogMCxcbiAgICAgIHRhcmdldDogMCxcbiAgICAgIGxlcnA6IDAuMSxcbiAgICAgIGRpcmVjdGlvbjogbnVsbCxcbiAgICB9O1xuICAgIHRoaXMueSA9IHtcbiAgICAgIGN1cnJlbnQ6IDAsXG4gICAgICB0YXJnZXQ6IDAsXG4gICAgICBsZXJwOiAwLjEsXG4gICAgICBkaXJlY3Rpb246IG51bGwsXG4gICAgfTtcblxuICAgIC8vIFVzZWQgdG8gc2F2ZSB0aGUgc2Nyb2xsIHggYW5kIHkgYWZ0ZXIgdG91Y2hkb3duIGV2ZW50XG4gICAgLy8gdG8gcHJldmVudCByZWZyZXNoaW5nIHRvIHplcm8uXG4gICAgdGhpcy5zY3JvbGxDdXJyZW50ID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgfTtcbiAgICB0aGlzLnNjcm9sbCA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgIH07XG5cbiAgICAvLyBTcGVlZCBvZiB0aGUgbW91c2UgZHJhZ2dpbmdcbiAgICB0aGlzLnNwZWVkID0ge1xuICAgICAgY3VycmVudDogMCxcbiAgICAgIHRhcmdldDogMCxcbiAgICAgIGxlcnA6IDAuMSxcbiAgICB9O1xuXG4gICAgdGhpcy5jcmVhdGVHZW9tZXRyeSgpO1xuICAgIHRoaXMuY3JlYXRlR2FsbGVyeSgpO1xuICAgIHRoaXMub25SZXNpemUoeyBzaXplczogdGhpcy5zaXplcyB9KTtcblxuICAgIHRoaXMuZ3JvdXAuc2V0UGFyZW50KHRoaXMuc2NlbmUpO1xuICAgIHRoaXMuc2hvdygpO1xuICB9XG5cbiAgY3JlYXRlR2VvbWV0cnkoKSB7XG4gICAgLy8gVGhlIGhlaWdodFNlZ21lbnQgJiB3aWR0aFNlZ21lbnQgZ2l2ZXMgbW9yZSB2ZXJ0aWNlcyB0byB0aGUgcGxhbmVcbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFBsYW5lKHRoaXMuZ2wsIHtcbiAgICAgIGhlaWdodFNlZ21lbnRzOiAyMCxcbiAgICAgIHdpZHRoU2VnbWVudHM6IDIwLFxuICAgIH0pO1xuICB9XG4gIGNyZWF0ZUdhbGxlcnkoKSB7XG4gICAgdGhpcy5tZWRpYXMgPSBtYXAodGhpcy5tZWRpYUVsZW1lbnRzLCAoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIHJldHVybiBuZXcgTWVkaWEoe1xuICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGdlb21ldHJ5OiB0aGlzLmdlb21ldHJ5LFxuICAgICAgICBnbDogdGhpcy5nbCxcbiAgICAgICAgc2NlbmU6IHRoaXMuZ3JvdXAsXG4gICAgICAgIHNpemVzOiB0aGlzLnNpemVzLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBzaG93KCkge1xuICAgIG1hcCh0aGlzLm1lZGlhcywgKG1lZGlhKSA9PiB7XG4gICAgICBtZWRpYS5zaG93KCk7XG4gICAgfSk7XG4gIH1cblxuICBoaWRlKCkge1xuICAgIG1hcCh0aGlzLm1lZGlhcywgKG1lZGlhKSA9PiB7XG4gICAgICBtZWRpYS5oaWRlKCk7XG4gICAgfSk7XG4gIH1cblxuICBvblJlc2l6ZShldmVudCkge1xuICAgIHRoaXMuZ2FsbGVyeUJvdW5kcyA9IHRoaXMuZ2FsbGVyeUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdGhpcy5zaXplcyA9IGV2ZW50LnNpemVzO1xuICAgIHRoaXMuZ2FsbGVyeVNpemVzID0ge1xuICAgICAgd2lkdGg6ICh0aGlzLmdhbGxlcnlCb3VuZHMud2lkdGggLyB3aW5kb3cuaW5uZXJXaWR0aCkgKiB0aGlzLnNpemVzLndpZHRoLFxuICAgICAgaGVpZ2h0OlxuICAgICAgICAodGhpcy5nYWxsZXJ5Qm91bmRzLmhlaWdodCAvIHdpbmRvdy5pbm5lckhlaWdodCkgKiB0aGlzLnNpemVzLmhlaWdodCxcbiAgICB9O1xuXG4gICAgLy8gdGhpcy5zY3JvbGwueCA9IHRoaXMueC50YXJnZXQgPSAwO1xuICAgIC8vIHRoaXMuc2Nyb2xsLnkgPSB0aGlzLnkudGFyZ2V0ID0gMDtcblxuICAgIG1hcCh0aGlzLm1lZGlhcywgKG1lZGlhKSA9PiB7XG4gICAgICBtZWRpYS5vblJlc2l6ZShldmVudCwgdGhpcy5zY3JvbGwpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAqIG9uVG91Y2hEb3duIGZvciBjYW52YXNcbiAgICovXG4gIG9uVG91Y2hEb3duKHsgeCwgeSB9KSB7XG4gICAgLy8gdGhpcy5zcGVlZC50YXJnZXQgPSAxO1xuXG4gICAgdGhpcy5zY3JvbGxDdXJyZW50LnggPSB0aGlzLnNjcm9sbC54O1xuICAgIHRoaXMuc2Nyb2xsQ3VycmVudC55ID0gdGhpcy5zY3JvbGwueTtcbiAgfVxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAgICogb25Ub3VjaE1vdmUgZm9yIGNhbnZhc1xuICAgKi9cbiAgb25Ub3VjaE1vdmUoeyB4LCB5IH0pIHtcbiAgICBjb25zdCB4RGlzdGFuY2UgPSB4LnN0YXJ0IC0geC5lbmQ7XG4gICAgY29uc3QgeURpc3RhbmNlID0geS5zdGFydCAtIHkuZW5kO1xuXG4gICAgdGhpcy54LnRhcmdldCA9IHRoaXMuc2Nyb2xsQ3VycmVudC54IC0geERpc3RhbmNlO1xuICAgIHRoaXMueS50YXJnZXQgPSB0aGlzLnNjcm9sbEN1cnJlbnQueSAtIHlEaXN0YW5jZTtcbiAgfVxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAgICogb25Ub3VjaFVwIGZvciBjYW52YXNcbiAgICovXG4gIG9uVG91Y2hVcCh7IHgsIHkgfSkge1xuICAgIC8vIHRoaXMuc3BlZWQudGFyZ2V0ID0gMDtcbiAgfVxuXG4gIG9uV2hlZWwoeyBwaXhlbFksIHBpeGVsWCB9KSB7XG4gICAgdGhpcy54LnRhcmdldCArPSBwaXhlbFg7XG4gICAgdGhpcy55LnRhcmdldCArPSBwaXhlbFk7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHt7eDpudW1iZXIsIHk6bnVtYmVyfX0ge3gsIHl9XG4gICAqIFNjcm9sbCB1cGRhdGVcbiAgICovXG4gIHVwZGF0ZSgpIHtcbiAgICAvLyBVc2luZyBweXRoYWdvcmFzIHRvIGdldCB0aGUgc3BlZWQgb2YgY3Vyc29yIG9yIHRvdWNoIG1vdmVtZW50IGZyb20gYSBjdXJyZW50XG4gICAgLy8gdG8gYSB0YXJnZXQgcG9zaXRpb25cbiAgICBjb25zdCBhID0gdGhpcy54LnRhcmdldCAtIHRoaXMueC5jdXJyZW50O1xuICAgIGNvbnN0IGIgPSB0aGlzLnkudGFyZ2V0IC0gdGhpcy55LmN1cnJlbnQ7XG4gICAgdGhpcy5zcGVlZC50YXJnZXQgPSBNYXRoLnNxcnQoYSAqIGEgKyBiICogYikgKiAwLjAwMTtcblxuICAgIHRoaXMuc3BlZWQuY3VycmVudCA9IGdzYXAudXRpbHMuaW50ZXJwb2xhdGUoXG4gICAgICB0aGlzLnNwZWVkLmN1cnJlbnQsXG4gICAgICB0aGlzLnNwZWVkLnRhcmdldCxcbiAgICAgIHRoaXMuc3BlZWQubGVycCxcbiAgICApO1xuXG4gICAgLy8gVGhpcyB1cGRhdGVzIHRoZSBjdXJyZW50IHBvc2l0aW9uIG9mIHNjcm9sbCB3aXRoIHRoZSB0YXJnZXQgYWZ0ZXIgc2Nyb2xsaW5nXG4gICAgdGhpcy54LmN1cnJlbnQgPSBnc2FwLnV0aWxzLmludGVycG9sYXRlKFxuICAgICAgdGhpcy54LmN1cnJlbnQsXG4gICAgICB0aGlzLngudGFyZ2V0LFxuICAgICAgdGhpcy54LmxlcnAsXG4gICAgKTtcbiAgICB0aGlzLnkuY3VycmVudCA9IGdzYXAudXRpbHMuaW50ZXJwb2xhdGUoXG4gICAgICB0aGlzLnkuY3VycmVudCxcbiAgICAgIHRoaXMueS50YXJnZXQsXG4gICAgICB0aGlzLnkubGVycCxcbiAgICApO1xuXG4gICAgLy8gQ2hlY2tzIHRoZSBzY3JvbGwgZGlyZWN0aW9uXG4gICAgaWYgKHRoaXMuc2Nyb2xsLnggPCB0aGlzLnguY3VycmVudCkge1xuICAgICAgdGhpcy54LmRpcmVjdGlvbiA9IFwicmlnaHRcIjtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsLnggPiB0aGlzLnguY3VycmVudCkge1xuICAgICAgdGhpcy54LmRpcmVjdGlvbiA9IFwibGVmdFwiO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnNjcm9sbC55IDwgdGhpcy55LmN1cnJlbnQpIHtcbiAgICAgIHRoaXMueS5kaXJlY3Rpb24gPSBcInRvcFwiO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGwueSA+IHRoaXMueS5jdXJyZW50KSB7XG4gICAgICB0aGlzLnkuZGlyZWN0aW9uID0gXCJib3R0b21cIjtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGVzIHRoZSBzY3JvbGwgeCBhbmQgeSB3aXRoIHRoZSBjdXJyZW50IHggYW5kIHkgYWZ0ZXIgdGhleSBhcmUgdXBkYXRlZFxuICAgIHRoaXMuc2Nyb2xsLnggPSB0aGlzLnguY3VycmVudDtcbiAgICB0aGlzLnNjcm9sbC55ID0gdGhpcy55LmN1cnJlbnQ7XG5cbiAgICBtYXAodGhpcy5tZWRpYXMsIChtZWRpYSwgXykgPT4ge1xuICAgICAgY29uc3QgbWVzaFNjYWxlWCA9IG1lZGlhLm1lc2guc2NhbGUueCAvIDI7XG4gICAgICBjb25zdCBvZmZzZXRYID0gdGhpcy5zaXplcy53aWR0aCAqIDAuNjtcblxuICAgICAgLy8gSW5maW5pdGUgc2Nyb2xsaW5nIGluIGFueSBkaXJlY3Rpb25cbiAgICAgIGlmICh0aGlzLnguZGlyZWN0aW9uID09PSBcImxlZnRcIikge1xuICAgICAgICBjb25zdCB4ID0gbWVkaWEubWVzaC5wb3NpdGlvbi54ICsgbWVzaFNjYWxlWDtcbiAgICAgICAgaWYgKHggPCAtb2Zmc2V0WCkge1xuICAgICAgICAgIG1lZGlhLmV4dHJhLnggKz0gdGhpcy5nYWxsZXJ5U2l6ZXMud2lkdGg7XG4gICAgICAgICAgbWVkaWEubWVzaC5yb3RhdGlvbi56ID0gZ3NhcC51dGlscy5yYW5kb20oXG4gICAgICAgICAgICAtTWF0aC5QSSAqIDAuMDMsXG4gICAgICAgICAgICBNYXRoLlBJICogMC4wMyxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMueC5kaXJlY3Rpb24gPT09IFwicmlnaHRcIikge1xuICAgICAgICBjb25zdCB4ID0gbWVkaWEubWVzaC5wb3NpdGlvbi54IC0gbWVzaFNjYWxlWDtcblxuICAgICAgICBpZiAoeCA+IG9mZnNldFgpIHtcbiAgICAgICAgICBtZWRpYS5leHRyYS54IC09IHRoaXMuZ2FsbGVyeVNpemVzLndpZHRoO1xuICAgICAgICAgIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IGdzYXAudXRpbHMucmFuZG9tKFxuICAgICAgICAgICAgLU1hdGguUEkgKiAwLjAzLFxuICAgICAgICAgICAgTWF0aC5QSSAqIDAuMDMsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBtZXNoU2NhbGVZID0gbWVkaWEubWVzaC5zY2FsZS55IC8gMjtcbiAgICAgIGNvbnN0IG9mZnNldFkgPSB0aGlzLnNpemVzLmhlaWdodCAqIDAuNjtcblxuICAgICAgaWYgKHRoaXMueS5kaXJlY3Rpb24gPT09IFwidG9wXCIpIHtcbiAgICAgICAgY29uc3QgeSA9IG1lZGlhLm1lc2gucG9zaXRpb24ueSArIG1lc2hTY2FsZVk7XG5cbiAgICAgICAgaWYgKHkgPCAtb2Zmc2V0WSkge1xuICAgICAgICAgIG1lZGlhLmV4dHJhLnkgKz0gdGhpcy5nYWxsZXJ5U2l6ZXMuaGVpZ2h0O1xuICAgICAgICAgIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IGdzYXAudXRpbHMucmFuZG9tKFxuICAgICAgICAgICAgLU1hdGguUEkgKiAwLjAzLFxuICAgICAgICAgICAgTWF0aC5QSSAqIDAuMDMsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLnkuZGlyZWN0aW9uID09PSBcImJvdHRvbVwiKSB7XG4gICAgICAgIGNvbnN0IHkgPSBtZWRpYS5tZXNoLnBvc2l0aW9uLnkgLSBtZXNoU2NhbGVZO1xuXG4gICAgICAgIGlmICh5ID4gb2Zmc2V0WSkge1xuICAgICAgICAgIG1lZGlhLmV4dHJhLnkgLT0gdGhpcy5nYWxsZXJ5U2l6ZXMuaGVpZ2h0O1xuICAgICAgICAgIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IGdzYXAudXRpbHMucmFuZG9tKFxuICAgICAgICAgICAgLU1hdGguUEkgKiAwLjAzLFxuICAgICAgICAgICAgTWF0aC5QSSAqIDAuMDMsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZWRpYS51cGRhdGUodGhpcy5zY3JvbGwsIHRoaXMuc3BlZWQuY3VycmVudCk7XG4gICAgfSk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuc2NlbmUucmVtb3ZlQ2hpbGQodGhpcy5ncm91cCk7XG4gIH1cbn1cbiIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcImNkMmJlZjdkODdkZTA2YjVlZGE0XCIpIl0sIm5hbWVzIjpbIkhvbWUiLCJjb25zdHJ1Y3RvciIsImdsIiwic2NlbmUiLCJzaXplcyIsInRoaXMiLCJncm91cCIsIlRyYW5zZm9ybSIsImdhbGxlcnlFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVkaWFFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ4IiwiY3VycmVudCIsInRhcmdldCIsImxlcnAiLCJkaXJlY3Rpb24iLCJ5Iiwic2Nyb2xsQ3VycmVudCIsInNjcm9sbCIsInNwZWVkIiwiY3JlYXRlR2VvbWV0cnkiLCJjcmVhdGVHYWxsZXJ5Iiwib25SZXNpemUiLCJzZXRQYXJlbnQiLCJzaG93IiwiZ2VvbWV0cnkiLCJQbGFuZSIsImhlaWdodFNlZ21lbnRzIiwid2lkdGhTZWdtZW50cyIsIm1lZGlhcyIsIm1hcCIsImVsZW1lbnQiLCJpbmRleCIsIk1lZGlhIiwibWVkaWEiLCJoaWRlIiwiZXZlbnQiLCJnYWxsZXJ5Qm91bmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZ2FsbGVyeVNpemVzIiwid2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJvblRvdWNoRG93biIsIm9uVG91Y2hNb3ZlIiwieERpc3RhbmNlIiwic3RhcnQiLCJlbmQiLCJ5RGlzdGFuY2UiLCJvblRvdWNoVXAiLCJvbldoZWVsIiwicGl4ZWxZIiwicGl4ZWxYIiwidXBkYXRlIiwiYSIsImIiLCJNYXRoIiwic3FydCIsImdzYXAiLCJ1dGlscyIsImludGVycG9sYXRlIiwiXyIsIm1lc2hTY2FsZVgiLCJtZXNoIiwic2NhbGUiLCJvZmZzZXRYIiwicG9zaXRpb24iLCJleHRyYSIsInJvdGF0aW9uIiwieiIsInJhbmRvbSIsIlBJIiwibWVzaFNjYWxlWSIsIm9mZnNldFkiLCJkZXN0cm95IiwicmVtb3ZlQ2hpbGQiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiaCJdLCJzb3VyY2VSb290IjoiIn0=