extends ../base.pug

block variables
  - var template = "collections";

block content
  .collections(data-background='#bc978c' data-color='#f9f1e7')
    .collections__wrapper
      .collections__titles
        each line in [0,1,2]
          each collection, index in collections
            .collections__titles__item
             .collections__titles__label
                .home__titles__label__text!= `${home.data.collection}<br>${indexResolver(index)}`

              .collections__titles__title
                 .collections__titles__title__text= collection.data.title

      .collections__gallery
        .collections__gallery__wrapper
          each collection, index in collections
            each product in collection.data.products
              a.collections__gallery__link(href=linkResolver(product.products_product))
                figure.collections__gallery__media(data-collection-index=index)
                  img.collections__gallery__media__image(
                    alt=product.products_product.data.image.alt,
                    data-src=product.products_product.data.image.url
                    data-model-src=product.products_product.data.model.url
                  )

      .collections__content
        each collection, index in collections 
          article.collections__article(class=`${index === 0 ? 'collections__article--active' : ''}`)
            h2.collections__article__title
              span.collections__article__title__text=`${collection.data.title} ${home.data.collection}`
              
            p.collections__article__description= collection.data.description
      
      .collections__mobile
        each collection, index in collections
          .collections__mobile__item
            .collections__mobile__item__label!=`${home.data.collection}<br>${indexResolver(index)}`
            .collections__mobile__item__title= collection.data.title
      

