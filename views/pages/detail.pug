extends ../base.pug

block variables
  - var template = "detail";

block content
  .detail(data-background='#bc978c' data-color='#f9f1e7')
    .detail__wrapper
      figure.detail__media
        img.detail__media__image(
          alt=product.data.image.alt,
          data-src=product.data.image.url
        )

      .detail__information
        p.detail__information__collection=product.data.collection.data.title
        h1.detail__information__title!=ctx.prismic.asText(product.data.text)

        .detail__information__content
          .detail__information__highlights
            each highlight, index in product.data.highlights 
              p.detail__information__highlight
                if index === 0
                  svg.detail__information__highlight__icon(xmlns="http://www.w3.org/2000/svg" viewBox="1146.126 487.425 24.749 24.749")
                    path(d="m1168.753 489.546-.66 2.357-.047 2.593-1.933-2.31-2.31-1.933 2.593-.047z" fill="#fff" fill-rule="evenodd")
                    path(d="m1148.247 510.052.66-2.357.047-2.593 1.933 2.31 2.31 1.933-2.593.047z" fill="#fff" fill-rule="evenodd")
                    path(d="m1152.843 505.456 11.314-11.314" stroke-linejoin="round" stroke-linecap="round" stroke-width="2" stroke="#fff" fill="transparent" data-name="Linea 2")
                else  
                  svg.detail__information__highlight__icon(xmlns="http://www.w3.org/2000/svg" viewBox="26.267 -161.384 20.447 20.636")
                    path(d="m40.755-161.195-2.759 8.592 8.718-2.634-8.154 4.14 8.154 4.265-8.718-2.822 2.822 8.906-4.265-8.342-4.14 8.154 2.634-8.718-8.592 2.759 8.154-4.202-8.342-4.328 8.78 2.822-2.822-8.781 4.328 8.342 4.202-8.153Z" fill="#fff" fill-rule="evenodd")

                span.detail__information__highlight__text!=highlight.highlight_text.replace(/\n/g, "<br>")

          .detail__information__list
            each item in product.data.information 
              p.detail__information__item
                strong.detail__information__item__title= item.informations_label
                span.detail__information__item__description= item.informations_description

          a.detail__information__link(href=product.data.link_url.url,target="_blank",rel="no-referrer")= product.data.link_text

          a.detail__button(href=linkResolver(home.data.collections)) Close
            svg.detail__button__icon(xmlns='http://www.w3.org/2000/svg' viewBox='0 0 124 60')
              path(stroke='currentColor' fill='none' d='M62,0.5c33.97,0,61.5,13.21,61.5,29.5S95.97,59.5,62,59.5S0.5,46.29,0.5,30S28.03,0.5,62,0.5z')
              path.detail__link__icon__path(stroke='#ffc400' fill='none' d='M62,0.5c33.97,0,61.5,13.21,61.5,29.5S95.97,59.5,62,59.5S0.5,46.29,0.5,30S28.03,0.5,62,0.5z')

